<!DOCTYPE html>
<html ng-app="app">

<head>
    <meta charset="utf-8">
    <title>TODO List in AngularJS</title>
</head>

<body ng-controller="HomeController as homeCtrl">
    <div id="container">
        <p id="deviceView"></p>

        <h1>TODO list</h1>
        <hr>
        <div class="row">
            <label class="col-md-6">What needs to be done?</label>
            <div class="col-md-1"></div>
            <label class="col-md-2">How important is it?</label>
            <div class="col-md-3"></div>
        </div>
        <form id="newTodoForm" class="row">
            <input type="text" placeholder="New todo" class="col-md-6" ng-model="homeCtrl.todo"></input>
            <div class="col-md-1"></div>
            <select class="col-md-2" ng-model="homeCtrl.selectedPriority" ng-options="priority for priority in homeCtrl.priorities">
            </select>
            <div class="col-md-1"></div>
            <button class="btn btn-default col-md-2" type="button" ng-click="homeCtrl.click()">
                Add todo
            </button>
        </form>

        <hr>

        <div id="todoListDiv">
            <table class="table table-stripped table-hover">
                <tr>
                    <th></th>
                    <th></th>
                    <th ng-click="homeCtrl.orderByTodo()">
                        <div class="addArrows">
                            <img src="Images/arrows.png" /> To do:
                        </div>
                    </th>
                    <th ng-click="homeCtrl.orderByPriority()">
                        <div class="addArrows">
                            <img src="Images/arrows.png" /> Priority:
                        </div>
                    </th>
                    <th>
                    </th>
                </tr>
                <tr ng-repeat="e in homeCtrl.todos">
                    <td>{{$index+1}}</td>
                    <td></td>
                    <td> <!--ng-click="e.editing=false"-->
                        <input type="checkbox" ng-model="e.done" />
                        <span ng-dblclick="e.editing=true" ng-hide="e.editing">{{e.todo}}</span>
                        <input type="text" ng-model="e.todo" ng-show="e.editing"
                               my-enter="e.editing=false"/>
                    </td>
                    <td>{{e.priority}}</td>
                    <td><img src="Images/delete.png" ng-click="homeCtrl.delete($index)"></td>
                </tr>
            </table>
        </div>
        <p>You have: {{homeCtrl.pendingTodos()}} todos pending</p>
        <hr>
    </div>

    <!-- scripts -->
    <link rel="text/javascript" href="index.js">
    <link rel="stylesheet" href="style.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular.min.js"></script>
    <script src="app/app.module.js"></script>
    <script src="app/home/home.controller.js"></script>
</body>

</html>
